{"ast":null,"code":"import _slicedToArray from\"/home/luiza/Desktop/Driven/projeto_13_my-wallet/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{React,useState,useContext}from\"react\";import{Container,StyledLink}from\"./style\";import{useNavigate}from\"react-router-dom\";import UserContext from\"../../contexts/UserContext\";import Input from\"../Input\";import BigLogo from\"../BigLogo\";import{Button}from\"../Button\";import Loading from\"../Loading\";import{login}from\"../../services/mywallet\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LoginPage(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var _useContext=useContext(UserContext),setUser=_useContext.setUser;var navigate=useNavigate();function handleLogin(e){setIsLoading(true);e.preventDefault();var promise=login({email:email,password:password});promise.then(function(response){setUser(response.data);navigate(\"/home\");});promise.catch(function(){alert(\"Confira seus dados e tente novamente\");setIsLoading(false);});}return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(BigLogo,{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,children:[/*#__PURE__*/_jsx(Input,{disabled:isLoading,type:\"email\",onChange:function onChange(e){return setEmail(e.target.value);},value:email,placeholder:\"E-mail\"}),/*#__PURE__*/_jsx(Input,{disabled:isLoading,type:\"password\",onChange:function onChange(e){return setPassword(e.target.value);},value:password,placeholder:\"Senha\"}),/*#__PURE__*/_jsx(Button,{disabled:isLoading,type:\"submit\",children:isLoading?/*#__PURE__*/_jsx(Loading,{}):\"Entrar\"})]}),/*#__PURE__*/_jsx(StyledLink,{to:\"/sign-up\",children:\"N\\xE3o possui conta? Cadastre-se\"})]});}export default LoginPage;","map":{"version":3,"sources":["/home/luiza/Desktop/Driven/projeto_13_my-wallet/front/src/components/LoginPage/index.js"],"names":["React","useState","useContext","Container","StyledLink","useNavigate","UserContext","Input","BigLogo","Button","Loading","login","LoginPage","email","setEmail","password","setPassword","isLoading","setIsLoading","setUser","navigate","handleLogin","e","preventDefault","promise","then","response","data","catch","alert","target","value"],"mappings":"2IAAA,OAASA,KAAT,CAAgBC,QAAhB,CAA0BC,UAA1B,KAA4C,OAA5C,CACA,OAASC,SAAT,CAAoBC,UAApB,KAAsC,SAAtC,CACA,OAASC,WAAT,KAA4B,kBAA5B,CAEA,MAAOC,CAAAA,WAAP,KAAwB,4BAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,UAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,YAApB,CACA,OAASC,MAAT,KAAuB,WAAvB,CACA,MAAOC,CAAAA,OAAP,KAAoB,YAApB,CACA,OAASC,KAAT,KAAsB,yBAAtB,C,wFAEA,QAASC,CAAAA,SAAT,EAAqB,CACnB,cAA0BX,QAAQ,CAAC,EAAD,CAAlC,wCAAOY,KAAP,eAAcC,QAAd,eACA,eAAgCb,QAAQ,CAAC,EAAD,CAAxC,yCAAOc,QAAP,eAAiBC,WAAjB,eACA,eAAkCf,QAAQ,CAAC,KAAD,CAA1C,yCAAOgB,SAAP,eAAkBC,YAAlB,eACA,gBAAoBhB,UAAU,CAACI,WAAD,CAA9B,CAAQa,OAAR,aAAQA,OAAR,CACA,GAAMC,CAAAA,QAAQ,CAAGf,WAAW,EAA5B,CAEA,QAASgB,CAAAA,WAAT,CAAqBC,CAArB,CAAwB,CACtBJ,YAAY,CAAC,IAAD,CAAZ,CACAI,CAAC,CAACC,cAAF,GACA,GAAMC,CAAAA,OAAO,CAAGb,KAAK,CAAC,CAAEE,KAAK,CAALA,KAAF,CAASE,QAAQ,CAARA,QAAT,CAAD,CAArB,CAEAS,OAAO,CAACC,IAAR,CAAa,SAACC,QAAD,CAAc,CACzBP,OAAO,CAACO,QAAQ,CAACC,IAAV,CAAP,CACAP,QAAQ,CAAC,OAAD,CAAR,CACD,CAHD,EAKAI,OAAO,CAACI,KAAR,CAAc,UAAM,CAClBC,KAAK,CAAC,sCAAD,CAAL,CACAX,YAAY,CAAC,KAAD,CAAZ,CACD,CAHD,EAID,CAED,mBACE,MAAC,SAAD,yBACE,KAAC,OAAD,IADF,cAEE,cAAM,QAAQ,CAAEG,WAAhB,wBACE,KAAC,KAAD,EACE,QAAQ,CAAEJ,SADZ,CAEE,IAAI,CAAC,OAFP,CAGE,QAAQ,CAAE,kBAACK,CAAD,QAAOR,CAAAA,QAAQ,CAACQ,CAAC,CAACQ,MAAF,CAASC,KAAV,CAAf,EAHZ,CAIE,KAAK,CAAElB,KAJT,CAKE,WAAW,CAAC,QALd,EADF,cAQE,KAAC,KAAD,EACE,QAAQ,CAAEI,SADZ,CAEE,IAAI,CAAC,UAFP,CAGE,QAAQ,CAAE,kBAACK,CAAD,QAAON,CAAAA,WAAW,CAACM,CAAC,CAACQ,MAAF,CAASC,KAAV,CAAlB,EAHZ,CAIE,KAAK,CAAEhB,QAJT,CAKE,WAAW,CAAC,OALd,EARF,cAgBE,KAAC,MAAD,EAAQ,QAAQ,CAAEE,SAAlB,CAA6B,IAAI,CAAC,QAAlC,UACGA,SAAS,cAAG,KAAC,OAAD,IAAH,CAAiB,QAD7B,EAhBF,GAFF,cAsBE,KAAC,UAAD,EAAY,EAAE,CAAC,UAAf,8CAtBF,GADF,CA0BD,CAED,cAAeL,CAAAA,SAAf","sourcesContent":["import { React, useState, useContext } from \"react\";\nimport { Container, StyledLink } from \"./style\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport UserContext from \"../../contexts/UserContext\";\nimport Input from \"../Input\";\nimport BigLogo from \"../BigLogo\";\nimport { Button } from \"../Button\";\nimport Loading from \"../Loading\";\nimport { login } from \"../../services/mywallet\";\n\nfunction LoginPage() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const { setUser } = useContext(UserContext);\n  const navigate = useNavigate();\n\n  function handleLogin(e) {\n    setIsLoading(true);\n    e.preventDefault();\n    const promise = login({ email, password });\n\n    promise.then((response) => {\n      setUser(response.data);\n      navigate(\"/home\");\n    });\n\n    promise.catch(() => {\n      alert(\"Confira seus dados e tente novamente\");\n      setIsLoading(false);\n    });\n  }\n\n  return (\n    <Container>\n      <BigLogo />\n      <form onSubmit={handleLogin}>\n        <Input\n          disabled={isLoading}\n          type=\"email\"\n          onChange={(e) => setEmail(e.target.value)}\n          value={email}\n          placeholder=\"E-mail\"\n        ></Input>\n        <Input\n          disabled={isLoading}\n          type=\"password\"\n          onChange={(e) => setPassword(e.target.value)}\n          value={password}\n          placeholder=\"Senha\"\n        ></Input>\n\n        <Button disabled={isLoading} type=\"submit\">\n          {isLoading ? <Loading /> : \"Entrar\"}\n        </Button>\n      </form>\n      <StyledLink to=\"/sign-up\">NÃ£o possui conta? Cadastre-se</StyledLink>\n    </Container>\n  );\n}\n\nexport default LoginPage;\n"]},"metadata":{},"sourceType":"module"}