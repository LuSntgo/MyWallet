{"ast":null,"code":"import _objectSpread from\"/home/luiza/Desktop/Driven/projeto_13_my-wallet/front/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/luiza/Desktop/Driven/projeto_13_my-wallet/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{React,useState,useContext}from\"react\";import{useNavigate}from\"react-router-dom\";import{showToast}from\"../ui-lib\";import UserContext from\"../../contexts/UserContext\";import{addWithdraw}from\"../../services/mywallet\";import{Button}from\"../Button\";import Input from\"../Input\";import Loading from\"../Loading\";import{Header,Container}from\"./style\";import dayjs from\"dayjs\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Withdraw(){var _useContext=useContext(UserContext),user=_useContext.user;var _useState=useState({value:\"\",description:\"\",type:\"withdraw\",date:dayjs().format(\"DD/MM\")}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var config={headers:{Authorization:\"Bearer \".concat(user.token)}};var navigate=useNavigate();function userWithdraw(e){formData[e.target.name]=e.target.value;setFormData(_objectSpread({},formData));}function handleWithdraw(e){setIsLoading(true);e.preventDefault();var promise=addWithdraw(formData,config);promise.then(function(response){navigate(\"/home\");});promise.catch(function(){setIsLoading(false);showToast({type:\"error\",message:\"Ops! Confira os dados e tente novamente\"});});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{children:/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Nova sa\\xEDda\"})})}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleWithdraw,children:[/*#__PURE__*/_jsx(Input,{disabled:isLoading,type:\"number\",name:\"value\",pattern:\"(?:\\\\.|,|[0-9])*\",onChange:userWithdraw,value:formData.value,placeholder:\"Valor\"}),/*#__PURE__*/_jsx(Input,{disabled:isLoading,name:\"description\",type:\"text\",onChange:userWithdraw,placeholder:\"Descri\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(Button,{disabled:isLoading,type:\"submit\",children:isLoading?/*#__PURE__*/_jsx(Loading,{}):\"Salvar saída\"})]})})]});}","map":{"version":3,"sources":["/home/luiza/Desktop/Driven/projeto_13_my-wallet/front/src/components/Withdraw/index.js"],"names":["React","useState","useContext","useNavigate","showToast","UserContext","addWithdraw","Button","Input","Loading","Header","Container","dayjs","Withdraw","user","value","description","type","date","format","formData","setFormData","isLoading","setIsLoading","config","headers","Authorization","token","navigate","userWithdraw","e","target","name","handleWithdraw","preventDefault","promise","then","response","catch","message"],"mappings":"qRAAA,OAASA,KAAT,CAAgBC,QAAhB,CAA0BC,UAA1B,KAA4C,OAA5C,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,SAAT,KAA0B,WAA1B,CACA,MAAOC,CAAAA,WAAP,KAAwB,4BAAxB,CACA,OAASC,WAAT,KAA4B,yBAA5B,CACA,OAASC,MAAT,KAAuB,WAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,UAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,YAApB,CACA,OAASC,MAAT,CAAiBC,SAAjB,KAAkC,SAAlC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,6IAEA,cAAe,SAASC,CAAAA,QAAT,EAAoB,CACjC,gBAAiBX,UAAU,CAACG,WAAD,CAA3B,CAAQS,IAAR,aAAQA,IAAR,CACA,cAAgCb,QAAQ,CAAC,CACvCc,KAAK,CAAE,EADgC,CAEvCC,WAAW,CAAE,EAF0B,CAGvCC,IAAI,CAAE,UAHiC,CAIvCC,IAAI,CAAEN,KAAK,GAAGO,MAAR,CAAe,OAAf,CAJiC,CAAD,CAAxC,wCAAOC,QAAP,eAAiBC,WAAjB,eAMA,eAAkCpB,QAAQ,CAAC,KAAD,CAA1C,yCAAOqB,SAAP,eAAkBC,YAAlB,eACA,GAAMC,CAAAA,MAAM,CAAG,CAAEC,OAAO,CAAE,CAAEC,aAAa,kBAAYZ,IAAI,CAACa,KAAjB,CAAf,CAAX,CAAf,CACA,GAAMC,CAAAA,QAAQ,CAAGzB,WAAW,EAA5B,CAEA,QAAS0B,CAAAA,YAAT,CAAsBC,CAAtB,CAAyB,CACvBV,QAAQ,CAACU,CAAC,CAACC,MAAF,CAASC,IAAV,CAAR,CAA0BF,CAAC,CAACC,MAAF,CAAShB,KAAnC,CACAM,WAAW,kBAAMD,QAAN,EAAX,CACD,CAED,QAASa,CAAAA,cAAT,CAAwBH,CAAxB,CAA2B,CACzBP,YAAY,CAAC,IAAD,CAAZ,CACAO,CAAC,CAACI,cAAF,GACA,GAAMC,CAAAA,OAAO,CAAG7B,WAAW,CAACc,QAAD,CAAWI,MAAX,CAA3B,CACAW,OAAO,CAACC,IAAR,CAAa,SAACC,QAAD,CAAc,CACzBT,QAAQ,CAAC,OAAD,CAAR,CACD,CAFD,EAGAO,OAAO,CAACG,KAAR,CAAc,UAAM,CAClBf,YAAY,CAAC,KAAD,CAAZ,CACAnB,SAAS,CAAC,CACRa,IAAI,CAAE,OADE,CAERsB,OAAO,CAAE,yCAFD,CAAD,CAAT,CAID,CAND,EAOD,CAED,mBACE,wCACE,KAAC,MAAD,wBACE,YAAK,SAAS,CAAC,OAAf,uBACE,qCADF,EADF,EADF,cAME,KAAC,SAAD,wBACE,cAAM,QAAQ,CAAEN,cAAhB,wBACE,KAAC,KAAD,EACE,QAAQ,CAAEX,SADZ,CAEE,IAAI,CAAC,QAFP,CAGE,IAAI,CAAC,OAHP,CAIE,OAAO,CAAC,kBAJV,CAKE,QAAQ,CAAEO,YALZ,CAME,KAAK,CAAET,QAAQ,CAACL,KANlB,CAOE,WAAW,CAAC,OAPd,EADF,cAUE,KAAC,KAAD,EACE,QAAQ,CAAEO,SADZ,CAEE,IAAI,CAAC,aAFP,CAGE,IAAI,CAAC,MAHP,CAIE,QAAQ,CAAEO,YAJZ,CAKE,WAAW,CAAC,iBALd,EAVF,cAkBE,KAAC,MAAD,EAAQ,QAAQ,CAAEP,SAAlB,CAA6B,IAAI,CAAC,QAAlC,UACGA,SAAS,cAAG,KAAC,OAAD,IAAH,CAAiB,cAD7B,EAlBF,GADF,EANF,GADF,CAiCD","sourcesContent":["import { React, useState, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { showToast } from \"../ui-lib\";\nimport UserContext from \"../../contexts/UserContext\";\nimport { addWithdraw } from \"../../services/mywallet\";\nimport { Button } from \"../Button\";\nimport Input from \"../Input\";\nimport Loading from \"../Loading\";\nimport { Header, Container } from \"./style\";\nimport dayjs from \"dayjs\";\n\nexport default function Withdraw() {\n  const { user } = useContext(UserContext);\n  const [formData, setFormData] = useState({\n    value: \"\",\n    description: \"\",\n    type: \"withdraw\",\n    date: dayjs().format(\"DD/MM\"),\n  });\n  const [isLoading, setIsLoading] = useState(false);\n  const config = { headers: { Authorization: `Bearer ${user.token}` } };\n  const navigate = useNavigate();\n\n  function userWithdraw(e) {\n    formData[e.target.name] = e.target.value;\n    setFormData({ ...formData });\n  }\n\n  function handleWithdraw(e) {\n    setIsLoading(true);\n    e.preventDefault();\n    const promise = addWithdraw(formData, config);\n    promise.then((response) => {\n      navigate(\"/home\");\n    });\n    promise.catch(() => {\n      setIsLoading(false);\n      showToast({\n        type: \"error\",\n        message: \"Ops! Confira os dados e tente novamente\",\n      });\n    });\n  }\n\n  return (\n    <>\n      <Header>\n        <div className=\"title\">\n          <h1>Nova saída</h1>\n        </div>\n      </Header>\n      <Container>\n        <form onSubmit={handleWithdraw}>\n          <Input\n            disabled={isLoading}\n            type=\"number\"\n            name=\"value\"\n            pattern=\"(?:\\.|,|[0-9])*\"\n            onChange={userWithdraw}\n            value={formData.value}\n            placeholder=\"Valor\"\n          ></Input>\n          <Input\n            disabled={isLoading}\n            name=\"description\"\n            type=\"text\"\n            onChange={userWithdraw}\n            placeholder=\"Descrição\"\n          ></Input>\n\n          <Button disabled={isLoading} type=\"submit\">\n            {isLoading ? <Loading /> : \"Salvar saída\"}\n          </Button>\n        </form>\n      </Container>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}